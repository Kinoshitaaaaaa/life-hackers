<body>
  <main>
    <div class="container">
      <div class="row">
        <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
          <h1>Editing Post</h1>
           <% if @post.errors.any? %>
             <h3><%= @poat.errors.count %>errors prohibited this obj from being saved:</h3>
             <ul>
              <% @post.errors.full_messages.each do |message| %>
              <li><%= message %></li>
              <% end %>
            </ul>
           <% end %>
           <%= form_with model: @post do |f| %>
            <div class="form-group">
              <label for="inputTitle">Title</label>
              <%= f.text_field :title, autofocus: true, class:"form-control", id:"inputTitle"%>
            </div>
            <div class="form-group">
              <label for="inputOpinion">Opinion</label>
              <%= f.text_area :body, autofocus: true, class:"form-control", id:"inputOpinion"%>
            </div>
            <div class="row mt-4">
             <div class="form-inline mx-auto">
              <% if @post.draft == true %>
               <%= f.submit "LIFEHACKを公開", :name => 'publicize_draft', class:'mr-5 btn btn-sm btn-warning' %>
               <%= f.submit "下書きを更新", :name => 'update_draft', class:'mr-5 btn btn-sm btn-outline-secondary' %>
              <% else %>
               <%= f.submit "投稿を更新", :name => 'update_post', class:'btn btn-sm btn-warning text-light' %>
              <% end %>
             </div>
            </div>
            <div class="mt-4 pb-3 text-center">
             <u><%= link_to "投稿を削除", "/post/#{@post.id}", method: :delete, data: {confirm: "この投稿を削除しますか？"}, class:'text-danger' %></u>
            </div>
           <% end %>
           <%= link_to "Show", post_path(@post) %>
            |
           <%= link_to "Back", posts_path %>
        </div>
      </div>
    </div>
  </main>
</body>
